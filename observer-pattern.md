## 观察者模式

**观察者模式**定义了对象之间的一对多依赖，这样一来，当一个对象改变状态时，它的所有依赖者都会收到通知并自动更新。

## 设计原则

为了交互对象之间的松耦合设计而努力。

## 总结

当想着数据源变化时，可以通知到关注数据变化的人员(类)

可以把数据源变成可以订阅的类（变成**主题**），当数据源变化时就通知所有订阅者

为了解决被订阅者不会随着订阅者的变动而修改，可以抽象出（**观察者**接口：面向接口编程）

## 解释

🌟 Why：与我何干？

观察者模式（Observer Pattern）是一种设计模式，它允许对象之间的一对多依赖关系，当一个对象的状态改变时，所有依赖于它的对象都会得到通知并自动更新。这对于我们来说很重要，因为它可以帮助我们构建响应式的程序，使得当数据变化时，相关的组件能够自动更新，提高程序的交互性和用户体验。

🔍 What：定义、概念解释，可以做什么

观察者模式是一种行为型设计模式，它定义了对象之间的一种一对多的依赖关系，使得当一个对象（称为“主题”）的状态发生改变时，所有依赖于它的对象（称为“观察者”）都会得到通知。这种模式可以用于实现数据的自动更新、事件处理等场景。

🛠️ How：步骤流程方法，以及解释所需的任何主题内容。包括举例子、打比方等。

观察者模式通常包含以下几个角色：

**Subject（主题）**：维护一个观察者列表，提供注册和注销观察者的方法，当状态变化时通知所有观察者。
**Observer（观察者）**：定义一个更新接口，以便在主题状态变化时得到通知。
**ConcreteSubject（具体主题）**：实现主题接口，存储状态，并在状态变化时通知所有观察者。
**ConcreteObserver（具体观察者）**：实现观察者接口，定义具体的行为以响应主题状态的变化。

举例说明：

想象你有一个天气应用，它需要根据当前的天气状况更新用户界面。你可以将天气应用作为观察者，而天气服务作为主题：

天气服务（WeatherService）：作为主题，它维护一个观察者列表，并在天气数据更新时通知所有观察者。
天气应用（WeatherApp）：作为观察者，它注册到天气服务，并在接收到天气更新时更新用户界面。
这样，当天气数据发生变化时，天气应用会自动更新，而不需要手动检查天气数据。

🎯 How Good：可以给听众带来什么好处，什么改变。
使用观察者模式的好处包括：

降低耦合度：主题和观察者之间的耦合度降低，因为它们之间不需要直接通信。
提高可维护性：观察者可以独立于主题变化，使得代码更容易维护和扩展。
增强响应性：程序可以自动响应数据变化，提高用户体验。